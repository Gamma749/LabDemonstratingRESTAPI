import{_ as b,o as i,b as u,c as h,w as $,d as s,e as w,f as r,t as C,F as N,g as M,h as _,i as L,T as v,r as c,j as y,M as g,k as F,v as D,a as E}from"./main.9a6c5065.js";import{a as S,L as B}from"./LabCard.efecf888.js";const O={props:{lab:{},student:{},complete:!1},data(){return{studentLabCompletions:[]}},async created(){},methods:{async submitLab(e){if(e.target.checked){e.preventDefault();const t={};t.StudentCode=this.student.StudentCode,t.LabID=this.lab.LabID,await fetch("http://localhost:8080/labCompletions",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)})}else await fetch("http://localhost:8080/labCompletions/"+this.student.StudentCode+"/"+this.lab.LabID,{method:"DELETE",headers:{"Content-type":"application/json"}});return await this.$parent.$parent.$parent.refreshLabCompletions(),!1}}},I=["checked"];function T(e,t,o,n,a,d){return i(),u("input",{type:"checkbox",onChange:t[0]||(t[0]=(...l)=>d.submitLab&&d.submitLab(...l)),checked:o.complete},null,40,I)}const j=b(O,[["render",T]]),R={props:{show:Boolean,student:{}},async created(){await S.get("http://localhost:8080/labs").then(e=>this.labs=e.data),await S.get("http://localhost:8080/labCompletions/"+this.student.StudentCode).then(e=>{for(var t,o=[],n=0;n<e.data.length;n++)t=e.data[n],o.push(t.LabID);this.labCompletions=o})},data(){return{labs:[],labCompletions:[]}},components:{LabCard:B,LabCompleteCheckbox:j},methods:{async refreshLabCompletions(){await S.get("http://localhost:8080/labCompletions/"+this.student.StudentCode).then(e=>{for(var t,o=[],n=0;n<e.data.length;n++)t=e.data[n],o.push(t.LabID);this.labCompletions=o}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})},async submitForm(e){e.preventDefault();const t=Object.fromEntries(new FormData(e.target).entries()),o={};return o.StudentCode=this.student.StudentCode,o.FirstName=t.FirstName,o.MiddleNames=t.MiddleNames,o.LastName=t.LastName,await fetch("http://localhost:8080/students/"+this.student.StudentCode,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(o)}).catch(function(n){console.log("ERROR: "+n)}),this.$emit("close"),await this.$parent.$parent.$parent.refreshStudents(),!1},labIDCompleted(e){return this.labCompletions.indexOf(e)!==-1}}},x={key:0,class:"modal-mask"},q={class:"modal-header"},P={class:"modal-body"},A={class:"modal-footer"};function J(e,t,o,n,a,d){const l=c("LabCompleteCheckbox"),m=c("LabCard");return i(),h(v,{name:"modal"},{default:$(()=>[o.show?(i(),u("div",x,[s("div",{class:"modal-wrapper",onClick:t[2]||(t[2]=p=>e.$emit("close"))},[s("div",{class:"modal-container",onClick:t[1]||(t[1]=w(()=>{},["stop"]))},[s("div",q,[r(e.$slots,"header",{},()=>[s("h1",null,"Lab Completions: "+C(o.student.StudentCode),1),s("h4",null,"Total Labs Complete: "+C(this.labCompletions.length),1)])]),s("div",P,[r(e.$slots,"body",{},()=>[(i(!0),u(N,null,M(a.labs,p=>(i(),h(m,{lab:p},{default:$(()=>[_(l,{lab:p,student:o.student,complete:d.labIDCompleted(p.LabID)},null,8,["lab","student","complete"])]),_:2},1032,["lab"]))),256))])]),s("div",A,[r(e.$slots,"footer",{},()=>[s("button",{class:"modal-default-button",onClick:t[0]||(t[0]=p=>e.$emit("close"))},"Close")])])])])])):L("",!0)]),_:3})}const U=b(R,[["render",J]]);const V={props:["student"],data(){return{showLabCompletionsModal:!1}},mounted(){},components:{LabCompletionsModal:U}},H={class:"studentItem"},G={class:"studentItem"},W={id:"endComponent"};function z(e,t,o,n,a,d){const l=c("LabCompletionsModal");return i(),u("div",{id:"studentCard",class:"card clickableCard",onClick:t[1]||(t[1]=m=>a.showLabCompletionsModal=!0)},[s("h2",H,C(o.student.StudentCode),1),s("h2",G,C(o.student.LastName)+", "+C(o.student.FirstName)+" "+C(o.student.MiddleNames),1),s("div",W,[r(e.$slots,"default",{},void 0,!0)]),(i(),h(y,{to:"body"},[_(l,{student:o.student,show:a.showLabCompletionsModal,onClose:t[0]||(t[0]=m=>a.showLabCompletionsModal=!1)},null,8,["student","show"])]))])}const K=b(V,[["render",z],["__scopeId","data-v-25a6f99a"]]),Q={props:{show:Boolean,student:{}},methods:{async submitForm(e){e.preventDefault();const t=Object.fromEntries(new FormData(e.target).entries()),o={};return o.StudentCode=this.student.StudentCode,o.FirstName=t.FirstName,o.MiddleNames=t.MiddleNames,o.LastName=t.LastName,await fetch("http://localhost:8080/students/"+this.student.StudentCode,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(o)}).catch(function(n){console.log("ERROR: "+n)}),this.$emit("close"),await this.$parent.$parent.$parent.refreshStudents(),!1},async deleteStudent(){return confirm("WARNING: Delete Student "+this.student.StudentCode+"?")===!1||(await fetch("http://localhost:8080/students/"+this.student.StudentCode,{method:"DELETE",headers:{"Content-type":"application/json"}}).catch(function(t){console.log("ERROR: "+t)}),this.$emit("close"),await this.$parent.$parent.$parent.refreshStudents()),!1}}},X={key:0,class:"modal-mask"},Y={class:"modal-header"},Z={class:"modal-body"},tt=s("label",{for:"FirstName"},"First Name:",-1),et=["value"],st=s("label",{for:"MiddleNames"},"Middle Names:",-1),ot=["value"],nt=s("label",{for:"LastName"},"Last Name:",-1),at=["value"],dt={class:"modal-footer"},lt=["onclick"],it=s("input",{type:"submit",form:"studentModalForm",class:"updateButton",value:"Update"},null,-1);function rt(e,t,o,n,a,d){return i(),h(v,{name:"modal"},{default:$(()=>[o.show?(i(),u("div",X,[s("div",{class:"modal-wrapper",onClick:t[3]||(t[3]=l=>e.$emit("close"))},[s("div",{class:"modal-container",onClick:t[2]||(t[2]=w(()=>{},["stop"]))},[s("div",Y,[r(e.$slots,"header",{},()=>[s("h1",null,C(o.student.StudentCode),1)])]),s("div",Z,[r(e.$slots,"body",{},()=>[s("form",{id:"studentModalForm",class:"modal-form",autocomplete:"off",onSubmit:t[0]||(t[0]=(...l)=>d.submitForm&&d.submitForm(...l))},[tt,s("input",{type:"text",name:"FirstName",id:"FirstName",value:o.student.FirstName,required:""},null,8,et),st,s("input",{type:"text",name:"MiddleNames",id:"MiddleNames",value:o.student.MiddleNames},null,8,ot),nt,s("input",{type:"text",name:"LastName",id:"LastName",value:o.student.LastName,required:""},null,8,at)],32)])]),s("div",dt,[r(e.$slots,"footer",{},()=>[s("button",{class:"modal-default-button",onClick:t[1]||(t[1]=l=>e.$emit("close"))},"Close"),s("button",{onclick:d.deleteStudent,class:"deleteButton"},"Delete",8,lt),it])])])])])):L("",!0)]),_:3})}const ut=b(Q,[["render",rt]]),mt={props:{student:{}},components:{StudentEditModal:ut},data(){return{showModal:!1}},methods:{clicked(e){e.stopPropagation(),this.showModal=!0}}};function ct(e,t,o,n,a,d){const l=c("StudentEditModal");return i(),u(N,null,[s("button",{onClick:t[0]||(t[0]=(...m)=>d.clicked&&d.clicked(...m))},"Edit"),(i(),h(y,{to:"body"},[_(l,{student:o.student,show:a.showModal,onClose:t[1]||(t[1]=m=>a.showModal=!1)},null,8,["student","show"])]))],64)}const ht=b(mt,[["render",ct]]),pt={props:{show:Boolean},methods:{async submitForm(e){e.preventDefault();const t=Object.fromEntries(new FormData(e.target).entries()),o={};return o.StudentCode=t.StudentCode,o.FirstName=t.FirstName,o.MiddleNames=t.MiddleNames,o.LastName=t.LastName,await fetch("http://localhost:8080/students",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(o)}),this.$emit("close"),await this.$parent.refreshStudents(),await this.$parent.refreshStudents(),!1}}},ft={key:0,class:"modal-mask"},Ct={class:"modal-header"},bt=s("h1",null,"New Student",-1),_t={class:"modal-body"},$t=s("label",{for:"StudentCode"},"Student Code:",-1),St=s("input",{type:"text",name:"StudentCode",id:"StudentCode",required:""},null,-1),Nt=s("label",{for:"FirstName"},"First Name:",-1),wt=s("input",{type:"text",name:"FirstName",id:"FirstName",required:""},null,-1),Lt=s("label",{for:"MiddleNames"},"Middle Names:",-1),vt=s("input",{type:"text",name:"MiddleNames",id:"MiddleNames"},null,-1),yt=s("label",{for:"LastName"},"Last Name:",-1),Mt=s("input",{type:"text",name:"LastName",id:"LastName",required:""},null,-1),kt=[$t,St,Nt,wt,Lt,vt,yt,Mt],gt={class:"modal-footer"},Ft=s("input",{type:"submit",form:"studentModalForm",value:"Create",class:"createButton"},null,-1);function Dt(e,t,o,n,a,d){return i(),h(v,{name:"modal"},{default:$(()=>[o.show?(i(),u("div",ft,[s("div",{class:"modal-wrapper",onClick:t[3]||(t[3]=l=>e.$emit("close"))},[s("div",{class:"modal-container",onClick:t[2]||(t[2]=w(()=>{},["stop"]))},[s("div",Ct,[r(e.$slots,"header",{},()=>[bt])]),s("div",_t,[r(e.$slots,"body",{},()=>[s("form",{id:"studentModalForm",class:"modal-form",autocomplete:"off",onSubmit:t[0]||(t[0]=(...l)=>d.submitForm&&d.submitForm(...l))},kt,32)])]),s("div",gt,[r(e.$slots,"footer",{},()=>[s("button",{class:"modal-default-button",onClick:t[1]||(t[1]=l=>e.$emit("close"))},"Close"),Ft])])])])])):L("",!0)]),_:3})}const Et=b(pt,[["render",Dt]]),Bt={components:{MyHeader:g,StudentCard:K,StudentEditButton:ht,StudentCreateModal:Et},data(){return{search:"",allStudents:[],showCreateModal:!1,showLabCompletionsModal:!1}},methods:{async refreshStudents(){await S.get("http://localhost:8080/students").then(e=>this.allStudents=e.data),this.allStudents.sort(function(e,t){return e.LastName.localeCompare(t.LastName)})}},async created(){await this.refreshStudents()},computed:{filteredList(){var e=this.allStudents.filter(t=>t.FirstName.toLowerCase().includes(this.search.toLowerCase())||t.MiddleNames.toLowerCase().includes(this.search.toLowerCase())||t.LastName.toLowerCase().includes(this.search.toLowerCase())||t.StudentCode.toLowerCase().includes(this.search.toLowerCase()));return e}}},Ot={class:"search-wrapper"};function It(e,t,o,n,a,d){const l=c("MyHeader"),m=c("StudentCreateModal"),p=c("StudentEditButton"),k=c("StudentCard");return i(),u(N,null,[_(l,{title:"Students"}),s("button",{onClick:t[0]||(t[0]=f=>a.showCreateModal=!0),class:"createButton bigButton"},"Create Student"),s("div",Ot,[F(s("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=f=>a.search=f),placeholder:"Student..."},null,512),[[D,a.search]])]),(i(),h(y,{to:"body"},[_(m,{show:a.showCreateModal,onClose:t[2]||(t[2]=f=>a.showCreateModal=!1)},null,8,["show"])])),(i(!0),u(N,null,M(d.filteredList,f=>(i(),h(k,{key:f,student:f},{default:$(()=>[_(p,{student:f},null,8,["student"])]),_:2},1032,["student"]))),128))],64)}const Tt=b(Bt,[["render",It]]);E(Tt).mount("#app");
